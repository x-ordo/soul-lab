# Soul Lab Server Environment Variables
# Copy this file to .env and fill in your values

# ===========================================
# Server Configuration
# ===========================================
NODE_ENV=production
PORT=8787
DATA_DIR=/app/data
LOG_LEVEL=info

# ===========================================
# Rate Limits
# ===========================================
INVITE_LIMIT_PER_IP=40
INVITE_LIMIT_PER_USER=20
REWARD_LIMIT_PER_IP=60
REWARD_LIMIT_PER_USER=20

# ===========================================
# AI Providers (at least one required)
# ===========================================
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...
AI_DEFAULT_TIER=mini

# ===========================================
# Admin Dashboard
# ===========================================
ADMIN_PASSWORD=your-secure-admin-password
# JWT secret for admin authentication (min 32 characters)
JWT_SECRET=your-32-character-minimum-jwt-secret-key

# ===========================================
# Redis (required for production)
# ===========================================
# Redis connection URL (Upstash, Railway, or local)
# Examples:
#   Local: redis://localhost:6379
#   Upstash: rediss://default:password@host.upstash.io:6379
REDIS_URL=redis://localhost:6379

# ===========================================
# Security
# ===========================================
# HMAC signing secret for user request authentication (min 32 characters)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
SIGNING_SECRET=

# Comma-separated list of allowed CORS origins (leave empty for development)
CORS_ORIGINS=https://soul-lab.toss.im,https://admin.soul-lab.com

# ===========================================
# Profile Encryption (for birthdate storage)
# ===========================================
# 32-byte (64 hex characters) encryption key for profile data
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
PROFILE_ENCRYPTION_KEY=

# ===========================================
# Web Push Notifications (VAPID)
# ===========================================
# Generate VAPID keys: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=
VAPID_PRIVATE_KEY=
VAPID_EMAIL=mailto:admin@soul-lab.com

# ===========================================
# Web Hosting (for external sharing)
# ===========================================
# Base URL for web version (used in OG tags and external links)
WEB_BASE_URL=https://soul-lab.vercel.app
OG_BASE_URL=https://soul-lab.vercel.app
